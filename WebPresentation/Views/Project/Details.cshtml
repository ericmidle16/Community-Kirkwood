<!--
/// <summary>
/// Creator:  Kate Rich
/// Created:  2025-04-02
/// Summary:  This is the View for information about a single project.
///
/// Updated By: Nik Bell & Kate Rich
/// Updated: 2025-04-18
/// What Was Changed: Updated the Forum ActionLink to redirect to the
///     project's forum page.
/// 
/// Updated By: Dat Tran
/// Updated: 2025-04-18
/// What was changed: Added NeedList connections to the Need List views.
/// 
/// Updated By: Ellie Wacker
/// Updated: 2025-04-22
/// What was changed: Added a view bag for if join or leave project appears.
///
/// Last Updated By: Kate Rich
/// Last Updated: 2025-04-25
/// What Was Changed:
///         Moved the Volunteer Requests link down by the link to Background Checks since they are related.
///         Added a div containing an ActionLink so users can view more details about a project's location.
///         Changed the link text for going back to the project list to 'Back to Projects'.
///
/// Last Updated By: Skyann Heintz
/// Last Updated: 2025-04-27
/// What Was Changed: Added Styling to page, I also adjusted some of the button locations.
///
/// Updated By: Skyann Heintz
/// Updated: 2025-04-30
/// What Was Changed: Title was updated from h4 to h2
///
/// Updated By: Eric Idle
/// Updated: 2025-04-30
/// What Was Changed: Added links to donations, expenses, and changed budget to invoices
///
/// Last Updated By: Syler Bushlack
/// Last Updated: 2025-05-01
/// What Was Changed: Made the donate button hidden for projects that don't accept donations
/// </summary>
-->
@model DataDomain.ProjectVM

@{
    ViewData["Title"] = "Details";
    bool hasOffer = ViewBag.HasOffer;
    bool isVolunteer = ViewBag.IsVolunteer;
}

<div class="container mt-3">
    <div class="row">
        <div class="col-12">
            <a href="@Url.Action("Index", "Volunteer", new { id = Model.ProjectID })" class="btn btn-info btn">Members</a>
            <a href="@Url.Action("Index", "Event", new { id = Model.ProjectID })" class="btn btn-info btn">Events</a>
            <a href="@Url.Action("DonationIndex", "Project", new { projectId = Model.ProjectID })" class="btn btn-info btn">Donations</a>
            <a href="@Url.Action("Index", "Invoice", new { projectId = Model.ProjectID })" class="btn btn-info btn">Invoices</a>
            <a href="@Url.Action("Index", "Expense", new { projectId = Model.ProjectID })" class="btn btn-info btn">Expenses</a>
            <a href="@Url.Action("NeedList", "NeedList", new { projectID = Model.ProjectID })" class="btn btn-info btn">Need List</a>
            <a href="@Url.Action("ViewProjectForum", "Forum", new { id = Model.ProjectID })" class="btn btn-info btn">Forum</a>
            <a href="@Url.Action("Index", "VolunteerStatus", new { id = Model.ProjectID })" class="btn btn-info btn">Volunteer Requests</a>
            <a href="@Url.Action("Index", "BackgroundCheck", new { id = Model.ProjectID })" class="btn btn-info btn">Background Checks</a>
        </div>
    </div>
</div>

<div class="container mt-3">
    <div class="card">
        <div class="card-header bg-dark text-white">
            <h2 class="m-0">Project Details</h2>
        </div>
        <div class="card-body">
            <dl class="row">
                <dt class="col-sm-3 font-weight-bold">
                    @Html.DisplayNameFor(model => model.Name)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.Name)
                </dd>
                <dt class="col-sm-3 font-weight-bold">
                    @Html.DisplayNameFor(model => model.Status)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.Status)
                </dd>
                <dt class="col-sm-3 font-weight-bold">
                    @Html.DisplayNameFor(model => model.FormattedStartDate)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.FormattedStartDate)
                </dd>
                <dt class="col-sm-3 font-weight-bold">
                    @Html.DisplayNameFor(model => model.ProjectTypeID)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.ProjectTypeID)
                </dd>
                <dt class="col-sm-3 font-weight-bold">
                    @Html.DisplayNameFor(model => model.LocationName)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.LocationName)
                </dd>
                <dt class="col-sm-3 font-weight-bold">
                    @Html.DisplayNameFor(model => model.City)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.City)
                </dd>
                <dt class="col-sm-3 font-weight-bold">
                    @Html.DisplayNameFor(model => model.State)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.State)
                </dd>
                <dt class="col-sm-3 font-weight-bold">
                    @Html.DisplayNameFor(model => model.Description)
                </dt>
                <dd class="col-sm-9">
                    @Html.DisplayFor(model => model.Description)
                </dd>
            </dl>
        </div>
    </div>
</div>

<div class="container mt-3">
    <div class="row">
        <div class="col-12">
            @if(isVolunteer != false)
            {
                <a href="@Url.Action("Leave", new { id = Model.ProjectID, userID = @ViewBag.ActiveUserID })" class="btn btn-danger btn-sm">Leave Project</a>
            }
            @if(hasOffer != true)
            {
                <a href="@Url.Action("JoinProject", new { projectID = Model.ProjectID, userID = @ViewBag.ActiveUserID })" class="btn btn-success btn">Join Project</a>
            }

            <a href="@Url.Action("Details", "Location", new { id = Model.LocationID })" class="btn btn-info btn">Location Details</a>
            @if(Model.AcceptsDonations){
                <a href="@Url.Action("Create", "Donations", new {userID = @ViewBag.ActiveUserID, projectID = Model.ProjectID})" class="btn btn-success btn">Donate</a>
            }
            <a href="@Url.Action("Edit", new { id = Model.ProjectID })" class="btn btn-warning">Edit Details</a>
            <a href="@Url.Action("Index")" class="btn btn-secondary btn">Back to Projects</a>
        </div>
    </div>
</div>